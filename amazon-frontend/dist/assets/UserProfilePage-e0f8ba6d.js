import{r,d as D,j as e,U as y,k as b,H as w,l as Z}from"./index-87321579.js";import{P as H}from"./PencilIcon-4013c1e2.js";function W({title:t,titleId:i,...o},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":i},o),t?r.createElement("title",{id:i},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Y=r.forwardRef(W),k=Y;function q({title:t,titleId:i,...o},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":i},o),t?r.createElement("title",{id:i},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const z=r.forwardRef(q),Q=z;function _({title:t,titleId:i,...o},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":i},o),t?r.createElement("title",{id:i},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const G=r.forwardRef(_),E=G;function J({title:t,titleId:i,...o},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":i},o),t?r.createElement("title",{id:i},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const K=r.forwardRef(J),X=K;function ee({title:t,titleId:i,...o},d){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":i},o),t?r.createElement("title",{id:i},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const se=r.forwardRef(ee),re=se,te=r.createContext(),ae=()=>{const t=r.useContext(te);if(!t)throw new Error("useUserProfile must be used within a UserProfileProvider");return t},ne=r.createContext(),le=()=>{const t=r.useContext(ne);if(!t)throw new Error("useReviews must be used within a ReviewsProvider");return t},ce=r.createContext(),ie=()=>{const t=r.useContext(ce);if(!t)throw new Error("usePriceTracking must be used within a PriceTrackingProvider");return t},oe=r.createContext(),de=()=>{const t=r.useContext(oe);if(!t)throw new Error("useAnalytics must be used within an AnalyticsProvider");return t},ge=()=>{var P;const{getCurrentUserProfile:t,getCurrentUserStats:i,updateUserProfile:o,calculateUserLevel:d,isLoading:f}=ae(),{user:xe,isAuthenticated:A}=D(),{getUserReviews:R}=le(),{getUserPriceAlerts:L}=ie(),{getUserSegment:M,getPersonalizedRecommendations:S}=de(),[x,I]=r.useState("overview"),[C,N]=r.useState(!1),[g,u]=r.useState({}),n=t(),l=i(),j=R(),p=L(),U=M();if(S(),r.useEffect(()=>{n&&u({name:n.name||"",bio:n.bio||"",location:n.location||"",socialMedia:n.socialMedia||{}})},[n]),!A)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Please Login"}),e.jsx("p",{className:"text-gray-600",children:"You need to be logged in to view your profile."})]})});if(f)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})});if(!n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile Not Found"}),e.jsx("p",{className:"text-gray-600",children:"Unable to load your profile. Please try refreshing the page."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Refresh Page"})]})});const m=d(l),$=async()=>{(await o(g)).success&&N(!1)},h=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),B=()=>{var s,c;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:m.title}),e.jsxs("p",{className:"text-orange-100",children:["Level ",m.level]})]}),e.jsx(re,{className:"h-12 w-12 text-orange-200"})]}),e.jsx("div",{className:"w-full bg-orange-400 rounded-full h-2",children:e.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-500",style:{width:`${m.progress}%`}})}),e.jsxs("p",{className:"text-sm text-orange-100 mt-2",children:[m.progress.toFixed(1),"% to next level"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"h-8 w-8 text-yellow-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(l==null?void 0:l.reviewsCount)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Reviews"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"h-8 w-8 text-red-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(l==null?void 0:l.helpfulVotes)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Helpful Votes"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(l==null?void 0:l.questionsAnswered)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Q&A Answers"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(l==null?void 0:l.totalPurchases)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Purchases"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),e.jsx("div",{className:"p-6",children:(s=l==null?void 0:l.recentActivity)!=null&&s.length?e.jsx("div",{className:"space-y-4",children:l.recentActivity.slice(0,5).map((a,v)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:`p-2 rounded-full ${a.type==="review"?"bg-yellow-100":a.type==="helpful"?"bg-blue-100":"bg-green-100"}`,children:[a.type==="review"&&e.jsx(b,{className:"h-4 w-4 text-yellow-600"}),a.type==="helpful"&&e.jsx(w,{className:"h-4 w-4 text-blue-600"}),a.type==="answer"&&e.jsx(E,{className:"h-4 w-4 text-green-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-900",children:a.action}),e.jsx("p",{className:"text-sm text-gray-600",children:a.productName})]}),e.jsx("p",{className:"text-xs text-gray-500",children:h(a.date)})]},v))}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent activity"})})]}),((c=l==null?void 0:l.achievements)==null?void 0:c.length)>0&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Achievements"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.achievements.map((a,v)=>e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-2xl",children:a.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Earned on ",h(a.earnedDate)]})]})]},v))})})]})]})},T=()=>{var s;return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Profile Information"}),!C&&e.jsxs("button",{onClick:()=>N(!0),className:"flex items-center space-x-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{children:"Edit Profile"})]})]}),e.jsx("div",{className:"p-6",children:C?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:g.name,onChange:c=>u(a=>({...a,name:c.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),e.jsx("textarea",{value:g.bio,onChange:c=>u(a=>({...a,bio:c.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Tell us about yourself..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:g.location,onChange:c=>u(a=>({...a,location:c.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"City, Country"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:$,disabled:f,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 disabled:opacity-50 transition-colors",children:f?"Saving...":"Save Changes"}),e.jsx("button",{onClick:()=>N(!1),className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:n.avatar,alt:n.name,className:"h-20 w-20 rounded-full"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n.name}),e.jsx("p",{className:"text-gray-600",children:n.email}),n.location&&e.jsx("p",{className:"text-sm text-gray-500",children:n.location})]})]}),n.bio&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"About"}),e.jsx("p",{className:"text-gray-700",children:n.bio})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Badges"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(s=n.badges)==null?void 0:s.map((c,a)=>e.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${c.color==="green"?"bg-green-100 text-green-800":c.color==="blue"?"bg-blue-100 text-blue-800":c.color==="gold"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[e.jsx("span",{children:c.icon}),e.jsx("span",{children:c.label})]},a))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Member Since"}),e.jsx("p",{className:"text-gray-600",children:h(n.joinedDate)})]})]})})]})},V=()=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Reviews"})}),e.jsx("div",{className:"p-6",children:j!=null&&j.length?e.jsx("div",{className:"space-y-6",children:j.slice(0,5).map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s.productName})]}),e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((c,a)=>e.jsx(Z,{className:`h-4 w-4 ${a<s.rating?"text-yellow-400":"text-gray-300"}`},a))})]}),e.jsxs("p",{className:"text-gray-700 mb-3",children:[s.content.slice(0,200),"..."]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsx("span",{children:h(s.createdAt)}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.helpful," helpful"]})]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(b,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"You haven't written any reviews yet."})]})})]}),F=()=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Price Alerts"})}),e.jsx("div",{className:"p-6",children:p!=null&&p.length?e.jsx("div",{className:"space-y-4",children:p.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:s.productImage,alt:s.productName,className:"h-12 w-12 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.productName}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Target: ₹",s.targetPrice.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["₹",s.currentPrice.toLocaleString("en-IN")]}),e.jsx("p",{className:`text-sm ${s.currentPrice<=s.targetPrice?"text-green-600":"text-gray-500"}`,children:s.currentPrice<=s.targetPrice?"Target reached!":"Monitoring..."})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No price alerts set up yet."})]})})]}),O=[{id:"overview",name:"Overview",icon:Q},{id:"profile",name:"Profile",icon:y},{id:"reviews",name:"Reviews",icon:b},{id:"alerts",name:"Price Alerts",icon:k}];return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-8",children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:n.avatar,alt:n.name,className:"h-16 w-16 rounded-full"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.name}),e.jsxs("p",{className:"text-gray-600",children:[m.title," • ",U," customer"]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Member since ",h(n.joinedDate)]}),(P=n.badges)==null?void 0:P.slice(0,2).map((s,c)=>e.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${s.color==="green"?"bg-green-100 text-green-800":s.color==="blue"?"bg-blue-100 text-blue-800":s.color==="gold"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[e.jsx("span",{children:s.icon}),e.jsx("span",{children:s.label})]},c))]})]})]})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:O.map(s=>{const c=s.icon;return e.jsxs("button",{onClick:()=>I(s.id),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm ${x===s.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(c,{className:"h-5 w-5"}),e.jsx("span",{children:s.name})]},s.id)})})})]}),e.jsxs("div",{children:[x==="overview"&&B(),x==="profile"&&T(),x==="reviews"&&V(),x==="alerts"&&F()]})]})})};export{ge as default};
//# sourceMappingURL=UserProfilePage-e0f8ba6d.js.map
